!function(){function e(){var e=$(this),t=e.attr("data-userid"),a=e.attr("href"),i=e.attr("data-method")||"POST",s=e.attr("class"),n=e.closest(".friend-request-media").find(".avatar").attr("src")||e.closest("#profile-card").find(".avatar").attr("src"),d=e.closest(".friend-request-media").find(".avatar").attr("alt")||e.closest("#profile-card").find(".avatar").attr("alt");return $.ajax({type:i,url:a,data:{userId:t}}).done(function(a){if("success"==a.response)switch(s){case"btn btn-primary friend-request-button btn-sm":e.attr("disabled","disabled").text("Request sent");break;case"btn btn-primary add-friend-button btn-sm":e.attr("disabled","disabled").text("Friend added"),$("#no-friend-chat-alert").hide(),$("#friend-list").append('<div id="friend-side-list" class="list-group"><a href="#" class="list-group-item side-list disabled" data-userid = "'+t+'"><div class="media"><div class="pull-left"><img class="media-object avatar small-avatar" src="'+n+'" alt="'+d+'"></div><div class="media-body">'+d+' <span class="glyphicon glyphicon-flash text-success"></span></div></div></a></div>');break;case"btn btn-primary add-friend-button-2 btn-sm":e.closest(".friend-request-media").slideUp(),$("#no-friend-chat-alert").hide(),$("#friend-list").append('<div id="friend-side-list" class="list-group"><a href="#" class="list-group-item side-list disabled" data-userid = "'+t+'"><div class="media"><div class="pull-left"><img class="media-object avatar small-avatar" src="'+n+'" alt="'+d+'"></div><div class="media-body">'+d+' <span class="glyphicon glyphicon-flash text-success"></span></div></div></a></div>'),0==a.count&&$(".friend-request-list").append('<div class="alert alert-info" role="alert"><span class="glyphicon glyphicon-info-sign"></span> You don\'t have any friend requests.</div>');var i=$(".friends-count").text(),r=parseInt(i)+1;$(".friends-count").text(r);break;case"btn btn-primary unfriend-button btn-sm":e.attr("disabled","disabled").text("Removed"),0==a.count&&($("#friend-side-list").hide(),$("#friend-list").append('<div class="alert alert-info" role="alert"><span class="glyphicon glyphicon-info-sign"></span> You don\'t have any friends.</div>'));var i=$(".friends-count").text(),r=parseInt(i)-1;$(".friends-count").text(r);break;case"btn btn-primary unfriend-button-2 btn-sm":e.closest(".friend-request-media").slideUp(),0==a.count&&$(".friend-request-list").append('<div class="alert alert-info" role="alert"><span class="glyphicon glyphicon-info-sign"></span> You don\'t have any friend requests.</div>');break;case"btn btn-primary unfriend-button-3 btn-sm":e.closest(".friend-request-media").slideUp(),$("a[data-userid="+e.attr("data-userid")+"]").hide("slide",{direction:"right"},300),0==a.count&&($(".friend-request-list").append('<div class="alert alert-info" role="alert"><span class="glyphicon glyphicon-info-sign"></span> You don\'t have any friends.</div>'),$("#friend-side-list").hide(),$("#friend-list").append('<div class="alert alert-info" role="alert"><span class="glyphicon glyphicon-info-sign"></span> You don\'t have any friends.</div>'));var i=$(".friends-count").text(),r=parseInt(i)-1;$(".friends-count").text(r);break;case"logout-link":window.location.replace("#no-friend-chat-alert".length?"/":"/")}else"failed"==a.response?$(".center-alert").html(a.message).fadeIn(300).delay(2500).fadeOut(300):alert("Something went wrong. Please try again later.")}).fail(function(){return alert("something went wrong. Please try again.")}),!1}$(".friend-request-button").click(e),$(".add-friend-button").click(e),$(".add-friend-button-2").click(e),$(".unfriend-button").click(e),$(".unfriend-button-2").click(e),$(".unfriend-button-3").click(e),$(".logout-link").click(e)}();